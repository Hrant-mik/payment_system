{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Order</title>
  <link rel="stylesheet" href="{% static 'shop/order.css' %}">
</head>

{% if messages %}
  {% for message in messages %}
    <div class="alert">{{ message }}</div>
  {% endfor %}
{% endif %}

<body>
<div class="container">
  <h1>ðŸ›’ Your Order</h1>

  {% if order.items.exists %}
    <table>
      <tr>
        <th>Item</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Action</th>
      </tr>
      {% for oi in order.items.all %}
      <tr>
        <td>{{ oi.item.name }}</td>
        <td>{{ oi.quantity }}</td>
        <td>${{ oi.item.price_dollars|floatformat:2 }}</td>
        <td>
          <a href="{% url 'cancel_order_item' oi.id %}" class="btn btn-remove">Remove</a>
        </td>
      </tr>
      {% endfor %}
    </table>

    <div class="total">
      Total: ${{ order.total_amount_dollars|floatformat:2 }}
    </div>

    <div class="actions">
      <a href="{% url 'pay_order' %}" class="btn btn-pay">ðŸ’³ Pay Order</a>
      <a href="{% url 'home' %}" class="btn btn-back">â¬… Back to Shop</a>
    </div>

  {% else %}
    <p class="empty">Your order is empty.</p>
    <a href="{% url 'home' %}" class="btn btn-back">â¬… Back to Shop</a>
  {% endif %}

</div>

</body>
</html>
